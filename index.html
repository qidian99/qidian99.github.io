<head>
  <!-- <link rel="stylesheet" href="./video-js.css" /> -->
  <!-- If you'd like to support IE8 (for Video.js versions prior to v7) -->
  <!-- <script src="./videojs-ie8.min.js"></script> -->
  <!-- <script src="./mousetrap.min.js"></script> -->
  <!-- <script src="./video.js"></script> -->
  <!-- <script src="./jquery.js"></script> -->
  <!-- <script src="./jquery.cookie.js"></script> -->
  <!-- <script src="moment.min.js"></script> -->
  <!-- <script src="moment.js"></script> -->
  <!-- <link rel="stylesheet" href="./index.css" /> -->
</head>

<body>
  <div class="ivideo">
    <div class="courseInfo">
      <p class="courseInfoText"></p>
    </div>
    <div class="ivideo-absolute">
      <div class="catalog">
        <ul class="catalogList">
          <li class="courseContainer1">
            <p class="courseCountStyle">1</p>
            <p>Lesson 1: <br /> Introduction</p>
          </li>
          <li class="courseContainer2">
            <p class="courseCountStyle">2</p>
            <p>Lesson 2: <br /> Conclusion</p>
          </li>
        </ul>
      </div>
      <div class="playbar">
        <div class="playButton">
          <i id="playIcon" class="material-icons" style="color:white">play_arrow</i>
        </div>
        <div class="time">
          <p class="timeText">0:00</p>
        </div>
        <div class="progressBarContainer">
          <div class="progressBar">
            <div class="progress"></div>
            <div class="trackLine"></div>
          </div>
        </div>
        <div class="courseListButton">
          <i id="courseListIcon" class="material-icons" style="color:white">list</i>
        </div>
        <div class="volumnButton">
          <i id="volumnIcon" class="material-icons" style="color:white">volume_up</i>
        </div>
        <div class="settingButton">
          <i id="settingIcon" class="material-icons" style="color:white">settings</i>
        </div>
        <div class="fullScreenButton">
          <i id="fullScreenIcon" class="material-icons" style="color:white">fullscreen</i>
        </div>
      </div>
    </div>
    <div class="relative">
      <video id="my-video" class="video-js" controls preload="auto" width="770" height="528">
        <!-- <source src="Harimorphvideo.mov" type="video/mp4" /> -->
        <source src="https://qidian.blue/bellus/video/Harimorphvideo.mov" type="video/mp4" />
        <p class="vjs-no-js">
          To view this video please enable JavaScript, and consider upgrading to a
          web browser that
          <a href="https://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a>
        </p>
      </video>
    </div>
  </div>
  <link href="https://vjs.zencdn.net/7.6.6/video-js.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet'>
  <script src="https://vjs.zencdn.net/ie8/1.1.2/videojs-ie8.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mousetrap/1.6.3/mousetrap.min.js"></script>
  <script src="https://vjs.zencdn.net/7.7.5/video.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
  <link rel="stylesheet" href="https://qidian.blue/bellus/css/video.css" />
  <script>
  const fetchLesson=async()=>(await setTimeout(()=>{},1e3),{name:"Module 1",lessons:[{time:0,description:"Lesson 1: Introduction"},{time:10,description:"Lesson 2: Conclusion"}]});function setCookie(e,t,s){const a=new Date;a.setTime(a.getTime()+24*s*60*60*1e3),document.cookie=e+"="+t+";expires="+a.toUTCString()}function getCookie(e){const t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return t?t[2]:null}function eraseCookie(e){setCookie(e,getCookie(e),"-1")}let duration,myPlayer,timeupdate,triggered=!1,latestTime=0,isMouseDown=!1,restorePlay=!1;const ivideoAbsolute=$(".ivideo-absolute"),MY_VIDEO="my-video";$(document).ready(function(){const e=$(".progressBarContainer").width(),t=getCookie("latestTime");let s;(myPlayer=videojs(MY_VIDEO)).ready(function(){this.one("loadedmetadata",function(){duration=myPlayer.duration(),$(".progressBar").append('<div id="my-video-lesson1" class="courseBallContainer"><div class="courseBall"><div class="courseBallOverlay"></div></div></div>'),$("#my-video-lesson1").css("left",0),$(".progressBar").append('<div id="my-video-lesson2" class="courseBallContainer"><div class="courseBall"><div class="courseBallOverlay"></div></div></div>'),$("#my-video-lesson2").css("left",10/duration*e),$(".courseContainer1").css("cursor","pointer"),t&&(latestTime=t,$(".progress").css("width",latestTime/duration*e))}),myPlayer.on("play",function(){timeupdate&&clearInterval(timeupdate),function(){timeupdate&&clearInterval(timeupdate);timeupdate=m()}()}),myPlayer.on("pause",function(){timeupdate&&clearInterval(timeupdate);const t=myPlayer.currentTime()/duration*e;$(".trackLine").stop().css("left",t),latestTime<myPlayer.currentTime()&&($(".progress").stop().css("width",t),setCookie("latestTime",latestTime=myPlayer.currentTime(),"365"))})}),myPlayer.on("ended",function(){$("#playIcon").html("replay"),clearTimeout(a),l(),a=y()});let a,o,r=!1;function n(e){const t=moment(Math.floor(e.currentTime()),"ss");t.minute()<10?$(".timeText").html(t.format("m:ss")):$(".timeText").html(t.format("mm:ss"))}function i(t,s){t.currentTime(s);const a=s/duration*e;t.paused()?($(".trackLine").stop().css("left",a),n(t)):(timeupdate&&clearInterval(timeupdate),$(".trackLine").stop().css("left",a),timeupdate=m())}function l(){o||(o=!0,ivideoAbsolute.stop().animate({opacity:"1.0"},"fast"))}function c(e,t){return!!($(e).attr("class")===t||e.parentNode&&$(e.parentNode).attr("class")&&c(e.parentNode,t))}function u(){switch($("#playIcon").html()){case"play_arrow":myPlayer.play(),$("#playIcon").html("pause");break;case"pause":myPlayer.pause(),$("#playIcon").html("play_arrow");break;case"replay":myPlayer.play(),$("#playIcon").html("pause")}}function m(){return setInterval(()=>{n(myPlayer);const t=(myPlayer.currentTime()+.1)/duration*e;$(".trackLine").stop().css("left",myPlayer.currentTime()/duration*e).animate({left:t},100,"linear"),latestTime<myPlayer.currentTime()&&($(".progress").stop().css("width",myPlayer.currentTime()/duration*e).animate({width:t},100,"linear"),setCookie("latestTime",latestTime=myPlayer.currentTime(),"365")),latestTime>=3&&$(".courseContainer2").css("cursor","pointer")},100)}function d(){o=!1,ivideoAbsolute.stop().animate({opacity:"0"},"fast")}function y(){return setTimeout(function(){d()},1e3)}$(document).mousemove(function(e){const t=function e(t){return!(!t||!$(t).attr("class"))&&($(t).attr("class").includes("Button")?$(t).attr("class"):t.parentNode&&$(t.parentNode).attr("class")&&e(t.parentNode))}(e.target);if(s&&t!==s&&($("."+s).css({backgroundColor:"rgba(53, 53, 53, 0.7)"}),s=!1),t&&($("."+t).css({backgroundColor:"rgba(53, 53, 53, 1.0)"}),s=t),c(e.target,"courseBallContainer"))"my-video-lesson1"===e.target.offsetParent.id?$(".courseInfoText").html("Lesson 1: Introduction"):"my-video-lesson2"===e.target.offsetParent.id&&$(".courseInfoText").html("Lesson 2: Conclusion"),r||($(".courseInfo").animate({top:534},100),r=!0);else if(c(e.target,"trackLine")){const e=parseInt($(".trackLine").css("left").slice(0,-2)),t=parseInt($("#my-video-lesson2").css("left").slice(0,-2));let s=!1;e<=32&&!r?($(".courseInfoText").html("Lesson 1: Introduction"),s=!0):e>=t&&!r&&($(".courseInfoText").html("Lesson 2: Conclusion"),s=!0),s&&!r&&($(".courseInfo").animate({top:534},100),r=!0)}else r&&($(".courseInfo").animate({top:502},100),r=!1)}),$(document).mousedown(function(e){(c(e.target,"progressBar")||c(e.target,"courseBallContainer"))&&(isMouseDown=!0,myPlayer.paused()||(restorePlay=!0,myPlayer.pause()))}),$(document).mouseup(function(){isMouseDown=!1,restorePlay&&(restorePlay=!1,myPlayer.play())}),$(document).click(function(t){if(c(t.target,"playButton"))u();else if(c(t.target,"courseContainer1"))i(myPlayer,0);else if(c(t.target,"courseContainer2"))latestTime>=10&&i(myPlayer,10);else if(c(t.target,"courseListButton"))triggered?$(".catalog").animate({"margin-left":770},"fast"):$(".catalog").animate({"margin-left":585},"fast"),triggered=!triggered;else if(c(t.target,"fullScreenButton"))t.preventDefault(),$(".vjs-fullscreen-control").click();else if(c(t.target,"courseBallContainer")){if("lesson1"===$(t.target.offsetParent).attr("class")&&t.offsetX<$(".progress").width()){const s=t.pageX-$(".progressBar").offset().left,a=s/e*duration;myPlayer.currentTime(a),$(".trackLine").stop().css("left",s)}else if("lesson2"==$(t.target.offsetParent).attr("class")){const s=t.pageX-$(".progressBar").offset().left+parseInt($("#my-video-lesson2").css("left").slice(0,-2)),a=s/e*duration;s<$(".progress").width()&&(myPlayer.currentTime(a),$(".trackLine").stop().css("left",s))}}else if(c(t.target,"progressBar")){if(t.offsetX<$(".progress").width()){const s=t.pageX-$(".progressBar").offset().left,a=s/e*duration;myPlayer.currentTime(a),n(myPlayer),$(".trackLine").stop().css("left",s),"replay"===$("#playIcon").html()&&(myPlayer.paused()?$("#playIcon").html("play_arrow"):$("#playIcon").html("pause"))}}else $(t.target).hasClass("ivideo-absolute")&&u()}),$(document).mousemove(function(t){if(isMouseDown&&(c(t.target,"progressBar")||c(t.target,"courseBallContainer"))){const s=t.pageX-$(".progressBar").offset().left;if(s<$(".progress").width()){const t=s/e*duration;myPlayer.currentTime(t),$(".trackLine").css("left",s)}}c(t.target,"playbar")||c(t.target,"catalog")?(clearTimeout(a),l()):$(t.target).hasClass("ivideo-absolute")?(clearTimeout(a),l(),a=y()):d()}),Mousetrap.bind("space",function(e){myPlayer.paused()?(myPlayer.play(),u()):(myPlayer.pause(),u())})});
  </script>
</body>